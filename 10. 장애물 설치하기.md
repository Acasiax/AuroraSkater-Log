# 10. 장애물 설치하기

장애물을 설치하기 위해서는 2개의 파일로 분리하여 생성하는 것이 관리하기 좋습니다.
- 1. 장애물을 관리하는 파일 Obstacle
- 2. 장애물의 '물체'를 업로드하고 SKPhysicsBody의 크기를 설정하는 Dumpster 파일 생성하기. :Obstacle 상속

 <br/>

 ##  1. 장애물을 관리하는 파일 Obstacle
-  장애물이 처음 시작하는 위치와, 장애물이 지나간 후 다시 재설정 된 위치를 잡아줍니다.
 ```swift
 static let RESET_X_POS : CGFloat = -250.0
 static let START_X_POS : CGFloat = 1182.0

 var moveAction: SKAction! //움직이게 하기
 var moveForever: SKAction! //계속 반복되게 하기
```

- 변수에 설정된 위치를 사용하여 장애물이 움직이도록 설정해줍니다.(속도, 움직임 등등)
```swift
    // 장애물 이동을 시작하는 메서드
    func startMoving() {
        // 장애물의 초기 위치 설정
        self.position = CGPoint(x: Obstacle.START_X_POS, y: 170)
        
        // 왼쪽으로 이동하는 SKAction 생성
        moveAction = SKAction.moveBy(x: -8.5, y: 0, duration: 0.02)
        
        // 움직임 액션을 계속 반복하는 SKAction 생성
        moveForever = SKAction.repeatForever(moveAction)
       
        // z축에서의 높이를 나타내는 zPosition을 7로 설정
        self.zPosition = 7
        
        // 물리학 속성 초기화
        initPhysics()

        // 무한히 움직이는 액션 실행
        self.run(moveForever)
    }
```
### 장애물이 사라지면(지나가면) 장애물이 다시 다가오게 하기
 - update 메서드: 이 메서드는 기본 클래스에서 상속된 메서드를 오버라이드합니다.
 - 장애물의 x-좌표가 RESET_X_POS 이하인지 확인하고 참이면 위치를 시작 위치로 재설정합니다.
```swift
    // 필요한 경우 위치를 확인하고 재설정하는 update 메서드 오버라이드
    @objc override func update() {
        if self.position.x <= Obstacle.RESET_X_POS {
            // 위치를 시작 위치로 재설정
            self.position = CGPoint(x: Obstacle.START_X_POS, y: self.position.y)
        }
    }
```
